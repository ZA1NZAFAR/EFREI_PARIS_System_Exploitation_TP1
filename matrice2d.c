#include <stdlib.h>
#include <stdio.h>
#include "matrice2d.h"

t_matrice* allouer_matrice(int ligne, int colonne)
{
    t_matrice *matrice=NULL;
    matrice = (t_matrice*)malloc(sizeof(t_matrice));
    matrice -> lignes = ligne;
    matrice -> colonnes = colonne;
    matrice->coefficient = allouer_tableau(ligne, colonne);
    return matrice;
}

int **allouer_tableau(int ligne, int colonne)
{
    int **tableau = (int **)malloc(ligne * sizeof(int *));
    for (int i = 0; i < ligne; i++)
    {
        tableau[i] = (int *)malloc(colonne * sizeof(int));
    }
    return tableau;
}

void remplir2DArray(int **array, int x, int y) {
    int val = 0;
    for (int i = 0; i < x; i++) {
        for (int j = 0; j < y; j++) {
            array[i][j] = val++;
        }
    }
}

void saisir_matrice(t_matrice t)
{
    remplir2DArray(t.coefficient, t.lignes, t.colonnes);

}
void display_tableau(t_matrice tab) {
    for (int i = 0; i < tab.lignes; i++) {
        for (int j = 0; j < tab.colonnes; j++) {
            printf("%d ", tab.coefficient[i][j]);
        }
        printf("\n");
    }
}

void liberer_matrice(t_matrice* matrice_temp)
{
    liberer_tab(&matrice_temp->coefficient, matrice_temp->lignes, matrice_temp->colonnes);
    free(matrice_temp);
}

void liberer_tab(int ***tab, int ligne, int colonne)
{
    for(int i = 0; i<ligne; i++)
    {
        for(int j = 0; j<colonne; j++)
        {
            free(tab[i][j]);
        }
    }
    free (*tab);
}