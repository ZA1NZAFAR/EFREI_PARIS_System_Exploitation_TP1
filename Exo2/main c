#include <stdio.h>
#include <string.h>
#include "Exo2/matrice2d.h"

t_matrice *multiplyTwoMatrices(t_matrice *matrice1, t_matrice *matrice2) {
    t_matrice *result = allouer_matrice(matrice1->lignes, matrice2->colonnes);;
    int i, j, k;
    for (i = 0; i < matrice1->lignes; i++) {
        for (j = 0; j < matrice2->colonnes; j++) {
            for (k = 0; k < matrice1->colonnes; k++) {
                result->coefficient[i][j] += matrice1->coefficient[i][k] * matrice2->coefficient[k][j];
            }
        }
    }
    return result;
}

int main() {
    t_matrice *matrice = NULL;
    t_matrice *matrice1 = NULL;
    t_matrice *matrice2 = NULL;
    int choice_l, choice_c;

    printf("combien de lignes ?\n");
    scanf("%d", &choice_l);
    printf("combien de colonnes ?\n");
    scanf("%d", &choice_c);

    matrice1 = allouer_matrice(choice_l, choice_c);
    printf("allouer_matrice------\n");

    matrice2 = allouer_matrice(choice_l, choice_c);
    printf("allouer_matrice------\n");

    printf("\nsaisir les valeurs de la premiere matrice : \n");
    saisir_matrice(*matrice1);

    display_tableau(*matrice1);

    printf("\nsaisir les valeurs de la seconde matrice : \n");
    saisir_matrice(*matrice2);
    display_tableau(*matrice2);

    matrice = multiplyTwoMatrices(matrice1, matrice2);

    printf("\n\n\n Reultat de la multiplication : \n\n\n");
    display_tableau(*matrice);

    liberer_matrice(matrice);

    return 0;
}